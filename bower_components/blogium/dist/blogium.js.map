{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///blogium.js","webpack:///webpack/bootstrap 68ab3c0e5c917cd95dd1","webpack:///./src/blogium.js","webpack:///./~/tiny-emitter/dist/tinyemitter.js","webpack:///./src/defaultOptions.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_tinyemitter","_tinyemitter2","_defaultOptions","_defaultOptions2","Blogium","_Emitter","options","_this","getPrototypeOf","config","getPosts","handleListener","moreBtn","addEventListener","morePosts","bind","arguments","undefined","otherPosts","host","targetBlank","url","username","document","querySelector","wrapper","postLimit","defaultTemplate","_this2","Promise","resolve","reject","posts","XMLHttpRequest","open","onreadystatechange","readyState","status","JSON","parse","response","send","then","postList","emit","renderPosts","items","_this3","scope","allLinks","Array","from","querySelectorAll","forEach","element","href","includes","_this4","cachedPosts","ul","createElement","slice","disabled","classList","add","post","index","blogPostTemplate","innerHTML","setLinkTarget","appendChild","postDate","Date","pubDate","toDateString","link","title","description","require","f","e","t","n","r","s","o","u","a","Error","code","l","1","E","on","name","callback","ctx","push","fn","once","listener","off","apply","_","data","evtArr","len","evts","liveEvents","defaults","location"],"mappings":";;;;;;;;CAAA,SAAAA,GAAAC;IACA,mBAAAC,WAAA,mBAAAC,SACAA,OAAAD,UAAAD,MACA,qBAAAG,iBAAAC,MACAD,WAAAH,KACA,mBAAAC,UACAA,QAAA,UAAAD,MAEAD,EAAA,UAAAC;EACCK,MAAA;IACD,OCAgB,SAAUC;QCN1B,SAAAC,EAAAC;YAGA,IAAAC,EAAAD,IACA,OAAAC,EAAAD,GAAAP;YAGA,IAAAC,IAAAO,EAAAD;gBACAP;gBACAS,IAAAF;gBACAG,SAAA;;YAUA,OANAL,EAAAE,GAAAI,KAAAV,EAAAD,SAAAC,KAAAD,SAAAM,IAGAL,EAAAS,UAAA,GAGAT,EAAAD;;QAvBA,IAAAQ;QAqCA,OATAF,EAAAM,IAAAP,GAGAC,EAAAO,IAAAL,GAGAF,EAAAQ,IAAA,IAGAR,EAAA;QDgBM,SAASL,GAAQD,GAASM;QAE/BL,EAAOD,UAAUM,EAAoB;OAKhC,SAASL,GAAQD,GAASM;QAE/B;QAYA,SAASS,EAAuBC;YAAO,OAAOA,KAAOA,EAAIC,aAAaD;gBAAQE,WAASF;;;QAEvF,SAASG,EAAgBC,GAAUC;YAAe,MAAMD,aAAoBC,IAAgB,MAAM,IAAIC,UAAU;;QAEhH,SAASC,EAA2BC,GAAMb;YAAQ,KAAKa,GAAQ,MAAM,IAAIC,eAAe;YAAgE,QAAOd,KAAyB,mBAATA,KAAqC,qBAATA,IAA8Ba,IAAPb;;QAElO,SAASe,EAAUC,GAAUC;YAAc,IAA0B,qBAAfA,KAA4C,SAAfA,GAAuB,MAAM,IAAIN,UAAU,oEAAoEM;YAAeD,EAASE,YAAYC,OAAOC,OAAOH,KAAcA,EAAWC;gBAAaG;oBAAeC,OAAON;oBAAUO,aAAY;oBAAOC,WAAU;oBAAMC,eAAc;;gBAAeR,MAAYE,OAAOO,iBAAiBP,OAAOO,eAAeV,GAAUC,KAAcD,EAASW,YAAYV;;QAhBje,IAAIW,IAAe;YAAc,SAASC,EAAiBC,GAAQC;gBAAS,KAAK,IAAIC,IAAI,GAAGA,IAAID,EAAME,QAAQD,KAAK;oBAAE,IAAIE,IAAaH,EAAMC;oBAAIE,EAAWX,aAAaW,EAAWX,eAAc,GAAOW,EAAWT,gBAAe,GAAU,WAAWS,MAAYA,EAAWV,YAAW;oBAAML,OAAOgB,eAAeL,GAAQI,EAAWE,KAAKF;;;YAAiB,OAAO,SAAUxB,GAAa2B,GAAYC;gBAAiJ,OAA9HD,KAAYR,EAAiBnB,EAAYQ,WAAWmB,IAAiBC,KAAaT,EAAiBnB,GAAa4B,IAAqB5B;;aEjEjiB6B,IAAA5C,EAAA,IFqEK6C,IAAgBpC,EAAuBmC,IEpE5CE,IAAA9C,EAAA,IFwEK+C,IAAmBtC,EAAuBqC,IEtEzCE,IFgFS,SAAUC;YE/EvB,SAAAD,EAAYE;gBAASrC,EAAAf,MAAAkD;gBAAA,IAAAG,IAAAlC,EAAAnB,OAAAkD,EAAAhB,aAAAR,OAAA4B,eAAAJ,IAAA3C,KAAAP;gBAAA,OAEnBqD,EAAKE,OAAOH,IACZC,EAAKG,YACLH,EAAKI,kBAJcJ;;YFsMpB,OAtHA/B,EAAU4B,GAASC,IAanBhB,EAAae;gBACXP,KAAK;gBACLd,OAAO;oBEvFR7B,KAAK0D,QAAQC,iBAAiB,SAAS3D,KAAK4D,UAAUC,KAAK7D,QAAO;;;gBF2FjE2C,KAAK;gBACLd,OAAO;oBEzFW,IAAduB,IAAcU,UAAAtB,SAAA,KAAAuB,WAAAD,UAAA,KAAAA,UAAA;oBACnB9D,KAAKgE,aAAaD,QAClB/D,KAAKiE,OAAOb,EAAQa,QAAQhB,aAASgB,MACrCjE,KAAKkE,cAAcd,EAAQc,eAAejB,aAASiB;oBACnDlE,KAAKmE,MAAL,qEAA6Ef,EAAQgB,YAAYnB,aAASmB;oBAC1GpE,KAAK0D,UAAUW,SAASC,cAAclB,EAAQM,YAAYW,SAASC,cAAcrB,aAASS;oBAC1F1D,KAAKuE,UAAUF,SAASC,cAAclB,EAAQmB,YAAYF,SAASC,cAAcrB,aAASsB;oBAC1FvE,KAAKwE,YAAYpB,EAAQoB,aAAavB,aAASuB,WAC/CxE,KAAKyE,kBAAkBrB,EAAQqB,mBAAmBxB,aAASwB;;;gBF8F1D9B,KAAK;gBACLd,OAAO;oBE5FC,IAAA6C,IAAA1E;oBACM,IAAI2E,QAAQ,SAACC,GAASC;wBACnC,IAAIC,IAAQ,IAAIC;wBAEhBD,EAAME,KAAK,OAAON,EAAKP,MAAK,IAE5BW,EAAMG,qBAAqB;4BACA,MAArBH,EAAMI,cAAqC,QAAjBJ,EAAMK,SAClCP,EAAQQ,KAAKC,MAAMP,EAAMQ,aACA,QAAjBR,EAAMK,UACdN,EAAOC,EAAMQ;2BAGjBR,EAAMS;uBAEPC,KAAK,SAACC;wBACLf,EAAKgB,KAAK,mBAAmBD,IACzBf,EAAKD,mBAAiBC,EAAKiB,YAAYF,EAASG;uBAhBvC,SAkBR,SAACN;wBACNZ,EAAKgB,KAAK,iBAAiBJ;;;;gBFgG5B3C,KAAK;gBACLd,OAAO;oBE7FsB,IAAAgE,IAAA7F,MAAlB8F,IAAkBhC,UAAAtB,SAAA,KAAAuB,WAAAD,UAAA,KAAAA,UAAA,KAAVO,UACd0B,IAAWC,MAAMC,KAAKH,EAAMI,iBAAiB;oBAEnDH,EAASI,QAAQ,SAACC;wBACZA,EAAQC,KAAKC,SAAST,EAAK5B,QAC7BmC,EAAQ/D,SAAS,UAEjB+D,EAAQ/D,SAAS;;;;gBFsGpBM,KAAK;gBACLd,OAAO,SElGEiD;oBAAO,IAAAyB,IAAAvG,MACbwG,IAAc,IACdC,IAAKpC,SAASqC,cAAc;oBAE5B5B,EAAMtC,SAASxC,KAAKwE,YAAY,KAClCxE,KAAKgE,aAAac,EAAM6B,MAAM3G,KAAKwE,YAAU;oBAC7CxE,KAAK0D,QAAQkD,YAAW,KAExB5G,KAAKgE,aAAaD,QAGpB0C,EAAGI,UAAUC,IAAI;oBAEjBhC,EAAMqB,QAAQ,SAACY,GAAMC;wBACfA,IAAQT,EAAK/B,cACfgC,KAAeD,EAAKU,iBAAiBF;wBAKzCN,EAAGS,YAAYV,GACfxG,KAAKmH,cAAcV,IACnBzG,KAAKuE,QAAQ6C,YAAYX;;;gBFsGxB9D,KAAK;gBACLd,OAAO;oBEnGJ7B,KAAKgE,eACThE,KAAK0D,QAAQkD,YAAW,GAExB5G,KAAK2F,YAAY3F,KAAKgE;;;gBFuGrBrB,KAAK;gBACLd,OAAO,SErGOkF;oBACf,IAAIM,IAAW,IAAIC,KAAKP,EAAKQ,SAASC;oBAEtC,gFACwCT,EAAKU,OAD7C,kDAEuCJ,IAFvC,sDAGsCN,EAAKW,QAH3C,uFAMQX,EAAKY,cANb;;kBFyGMzE;UACPH;QE9FHlD,EAAOD,UAAUsD;OFoGX,SAASrD,GAAQD,GAASM;QAE/B,IAAI0H,GGnNLA;SAAA,SAAAC;YAAwEhI,EAAAD,UAAAiI;UAA6P;YAAuC,gBAAAC,EAAAC,GAAAC,GAAAC;gBAA0B,SAAAC,EAAAC,GAAAC;oBAAgB,KAAAJ,EAAAG,IAAA;wBAAU,KAAAJ,EAAAI,IAAA;4BAAU,IAAAE,IAAA,qBAAAT;4BAA0C,KAAAQ,KAAAC,GAAA,OAAAT,EAAAO,IAAA;4BAAwB,IAAA5F,GAAA,OAAAA,EAAA4F,IAAA;4BAAoB,IAAAN,IAAA,IAAAS,MAAA,yBAAAH,IAAA;4BAA8C,MAAAN,EAAAU,OAAA,oBAAAV;;wBAAkC,IAAAW,IAAAR,EAAAG;4BAAYvI;;wBAAYmI,EAAAI,GAAA,GAAA5H,KAAAiI,EAAA5I,SAAA,SAAAkI;4BAAmC,IAAAE,IAAAD,EAAAI,GAAA,GAAAL;4BAAiB,OAAAI,EAAAF,QAAAF;2BAAgBU,KAAA5I,SAAAkI,GAAAC,GAAAC,GAAAC;;oBAAsB,OAAAD,EAAAG,GAAAvI;;gBAA8D,SAA1C2C,IAAA,qBAAAqF,QAA0CO,IAAA,GAAYA,IAAAF,EAAAzF,QAAW2F,KAAAD,EAAAD,EAAAE;gBAAY,OAAAD;;gBAAYO,KAAA,SAAAb,GAAA/H,GAAAD;oBAC/yB,SAAA8I;oBAKAA,EAAAjH;wBACAkH,IAAA,SAAAC,GAAAC,GAAAC;4BACA,IAAAhB,IAAA9H,KAAA8H,MAAA9H,KAAA8H;4BAOA,QALAA,EAAAc,OAAAd,EAAAc,UAAAG;gCACAC,IAAAH;gCACAC;gCAGA9I;;wBAGAiJ,MAAA,SAAAL,GAAAC,GAAAC;4BAEA,SAAAI;gCACA9H,EAAA+H,IAAAP,GAAAM,IACAL,EAAAO,MAAAN,GAAAhF;;4BAHA,IAAA1C,IAAApB;4BAOA,OADAkJ,EAAAG,IAAAR,GACA7I,KAAA2I,GAAAC,GAAAM,GAAAJ;;wBAGApD,MAAA,SAAAkD;4BACA,IAAAU,OAAA3C,MAAApG,KAAAuD,WAAA,IACAyF,MAAAvJ,KAAA8H,MAAA9H,KAAA8H,SAAyCc,UAAAjC,SACzCpE,IAAA,GACAiH,IAAAD,EAAA/G;4BAEA,KAAAD,GAAWA,IAAAiH,GAASjH,KACpBgH,EAAAhH,GAAAyG,GAAAI,MAAAG,EAAAhH,GAAAuG,KAAAQ;4BAGA,OAAAtJ;;wBAGAmJ,KAAA,SAAAP,GAAAC;4BACA,IAAAf,IAAA9H,KAAA8H,MAAA9H,KAAA8H,SACA2B,IAAA3B,EAAAc,IACAc;4BAEA,IAAAD,KAAAZ,GACA,SAAAtG,IAAA,GAAAiH,IAAAC,EAAAjH,QAAwCD,IAAAiH,GAASjH,KACjDkH,EAAAlH,GAAAyG,OAAAH,KAAAY,EAAAlH,GAAAyG,GAAAK,MAAAR,KACAa,EAAAX,KAAAU,EAAAlH;4BAYA,OAJAmH,EAAA,SACA5B,EAAAc,KAAAc,WACA5B,EAAAc,IAEA5I;;uBAIAH,EAAAD,UAAA8I;;qBAES;;OHwNH,SAAS7I,GAAQD;QAEtB;QAEA8B,OAAOgB,eAAe9C,GAAS;YAC7BiC,QAAO;;QIjSV,IAAM8H;YACJ1F,MAAMI,SAASuF,SAAS3F,QAAQ;YAChCG,UAAU;YACVV,SAAS;YACTa,SAAS;YACTL,cAAa;YACbO,kBAAiB;YACjBD,WAAW;;QJsSZ5E,eInSc+J","file":"blogium.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Blogium\"] = factory();\n\telse\n\t\troot[\"Blogium\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Blogium\"] = factory();\n\telse\n\t\troot[\"Blogium\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _tinyemitter = __webpack_require__(2);\n\t\n\tvar _tinyemitter2 = _interopRequireDefault(_tinyemitter);\n\t\n\tvar _defaultOptions = __webpack_require__(3);\n\t\n\tvar _defaultOptions2 = _interopRequireDefault(_defaultOptions);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Blogium = function (_Emitter) {\n\t  _inherits(Blogium, _Emitter);\n\t\n\t  function Blogium(options) {\n\t    _classCallCheck(this, Blogium);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Blogium.__proto__ || Object.getPrototypeOf(Blogium)).call(this));\n\t\n\t    _this.config(options);\n\t    _this.getPosts();\n\t    _this.handleListener();\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Blogium, [{\n\t    key: 'handleListener',\n\t    value: function handleListener() {\n\t      this.moreBtn.addEventListener('click', this.morePosts.bind(this), false);\n\t    }\n\t  }, {\n\t    key: 'config',\n\t    value: function config() {\n\t      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t      this.otherPosts = undefined;\n\t      this.host = options.host || _defaultOptions2.default.host;\n\t      this.targetBlank = options.targetBlank || _defaultOptions2.default.targetBlank;\n\t      this.url = 'http://rss2json.com/api.json?rss_url=https%3A//medium.com/feed/' + (options.username || _defaultOptions2.default.username);\n\t      this.moreBtn = document.querySelector(options.moreBtn) || document.querySelector(_defaultOptions2.default.moreBtn);\n\t      this.wrapper = document.querySelector(options.wrapper) || document.querySelector(_defaultOptions2.default.wrapper);\n\t      this.postLimit = options.postLimit || _defaultOptions2.default.postLimit;\n\t      this.defaultTemplate = options.defaultTemplate || _defaultOptions2.default.defaultTemplate;\n\t    }\n\t  }, {\n\t    key: 'getPosts',\n\t    value: function getPosts() {\n\t      var _this2 = this;\n\t\n\t      var getPosts = new Promise(function (resolve, reject) {\n\t        var posts = new XMLHttpRequest();\n\t\n\t        posts.open(\"GET\", _this2.url, true);\n\t\n\t        posts.onreadystatechange = function () {\n\t          if (posts.readyState === 4 && posts.status === 200) {\n\t            resolve(JSON.parse(posts.response));\n\t          } else if (posts.status !== 200) {\n\t            reject(posts.response);\n\t          }\n\t        };\n\t        posts.send();\n\t      }).then(function (postList) {\n\t        _this2.emit('blogium.success', postList);\n\t        if (_this2.defaultTemplate) _this2.renderPosts(postList.items);\n\t      }).catch(function (response) {\n\t        _this2.emit('blogium.error', response);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setLinkTarget',\n\t    value: function setLinkTarget() {\n\t      var _this3 = this;\n\t\n\t      var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\t\n\t      var allLinks = Array.from(scope.querySelectorAll('a'));\n\t\n\t      allLinks.forEach(function (element) {\n\t        if (element.href.includes(_this3.host)) {\n\t          element.target = '_self';\n\t        } else {\n\t          element.target = '_blank';\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderPosts',\n\t    value: function renderPosts(posts) {\n\t      var _this4 = this;\n\t\n\t      var cachedPosts = '',\n\t          ul = document.createElement('ul');\n\t\n\t      if (posts.length > this.postLimit - 1) {\n\t        this.otherPosts = posts.slice(this.postLimit - 1);\n\t        this.moreBtn.disabled = false;\n\t      } else {\n\t        this.otherPosts = undefined;\n\t      }\n\t\n\t      ul.classList.add('postList');\n\t\n\t      posts.forEach(function (post, index) {\n\t        if (index < _this4.postLimit) {\n\t          cachedPosts += _this4.blogPostTemplate(post);\n\t        }\n\t      });\n\t\n\t      ul.innerHTML = cachedPosts;\n\t      this.setLinkTarget(ul);\n\t      this.wrapper.appendChild(ul);\n\t    }\n\t  }, {\n\t    key: 'morePosts',\n\t    value: function morePosts() {\n\t      if (!this.otherPosts) return;\n\t      this.moreBtn.disabled = true;\n\t\n\t      this.renderPosts(this.otherPosts);\n\t    }\n\t  }, {\n\t    key: 'blogPostTemplate',\n\t    value: function blogPostTemplate(post) {\n\t      var postDate = new Date(post.pubDate).toDateString();\n\t\n\t      return '<li class=\"blogiumPost\">\\n        <a class=\"blogiumPost-link\" href=\"' + post.link + '\">\\n          <span class=\"blogiumPost-date\">' + postDate + '</span>\\n          <h3 class=\"blogiumPost-title\">' + post.title + '</h3>\\n        </a>\\n        <section class=\"blogiumPost-description\">\\n          ' + post.description + '\\n        </section>\\n      </li>';\n\t    }\n\t  }]);\n\t\n\t  return Blogium;\n\t}(_tinyemitter2.default);\n\t\n\tmodule.exports = Blogium;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar require;var require;(function(f){if(true){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.TinyEmitter = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\tfunction E () {\n\t\t// Keep this empty so it's easier to inherit from\n\t  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n\t}\n\t\n\tE.prototype = {\n\t\ton: function (name, callback, ctx) {\n\t    var e = this.e || (this.e = {});\n\t\n\t    (e[name] || (e[name] = [])).push({\n\t      fn: callback,\n\t      ctx: ctx\n\t    });\n\t\n\t    return this;\n\t  },\n\t\n\t  once: function (name, callback, ctx) {\n\t    var self = this;\n\t    function listener () {\n\t      self.off(name, listener);\n\t      callback.apply(ctx, arguments);\n\t    };\n\t\n\t    listener._ = callback\n\t    return this.on(name, listener, ctx);\n\t  },\n\t\n\t  emit: function (name) {\n\t    var data = [].slice.call(arguments, 1);\n\t    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n\t    var i = 0;\n\t    var len = evtArr.length;\n\t\n\t    for (i; i < len; i++) {\n\t      evtArr[i].fn.apply(evtArr[i].ctx, data);\n\t    }\n\t\n\t    return this;\n\t  },\n\t\n\t  off: function (name, callback) {\n\t    var e = this.e || (this.e = {});\n\t    var evts = e[name];\n\t    var liveEvents = [];\n\t\n\t    if (evts && callback) {\n\t      for (var i = 0, len = evts.length; i < len; i++) {\n\t        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n\t          liveEvents.push(evts[i]);\n\t      }\n\t    }\n\t\n\t    // Remove event from queue to prevent memory leak\n\t    // Suggested by https://github.com/lazd\n\t    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\t\n\t    (liveEvents.length)\n\t      ? e[name] = liveEvents\n\t      : delete e[name];\n\t\n\t    return this;\n\t  }\n\t};\n\t\n\tmodule.exports = E;\n\t\n\t},{}]},{},[1])(1)\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar defaults = {\n\t  host: document.location.host || '',\n\t  username: '@Medium',\n\t  moreBtn: '#moreBtn',\n\t  wrapper: '.mediumWrap',\n\t  targetBlank: true,\n\t  defaultTemplate: true,\n\t  postLimit: 5\n\t};\n\t\n\texports.default = defaults;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** blogium.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 68ab3c0e5c917cd95dd1\n **/","import Emitter from '../node_modules/tiny-emitter/dist/tinyemitter.js';\nimport defaults from './defaultOptions.js';\n\nclass Blogium extends Emitter {\n  constructor(options) {\n    super();\n    this.config(options);\n    this.getPosts();\n    this.handleListener();\n  }\n\n  handleListener() {\n    this.moreBtn.addEventListener('click', this.morePosts.bind(this), false);\n  }\n\n  config(options = {}) {\n    this.otherPosts = undefined;\n    this.host = options.host || defaults.host;\n    this.targetBlank = options.targetBlank || defaults.targetBlank;\n    this.url = `http://rss2json.com/api.json?rss_url=https%3A//medium.com/feed/${options.username || defaults.username}`;\n    this.moreBtn = document.querySelector(options.moreBtn) || document.querySelector(defaults.moreBtn);\n    this.wrapper = document.querySelector(options.wrapper) || document.querySelector(defaults.wrapper);\n    this.postLimit = options.postLimit || defaults.postLimit;\n    this.defaultTemplate = options.defaultTemplate || defaults.defaultTemplate;\n  }\n\n  getPosts() {\n    let getPosts = new Promise((resolve, reject) => {\n      let posts = new XMLHttpRequest();\n\n      posts.open(\"GET\", this.url, true);\n\n      posts.onreadystatechange = function () {\n        if (posts.readyState === 4 && posts.status === 200) {\n          resolve(JSON.parse(posts.response));\n        } else if(posts.status !== 200) {\n          reject(posts.response);\n        }\n      };\n      posts.send();\n    })\n    .then((postList)=> {\n      this.emit('blogium.success', postList);\n      if (this.defaultTemplate) this.renderPosts(postList.items);\n    })\n    .catch((response) => {\n      this.emit('blogium.error', response);\n    });\n  }\n\n  setLinkTarget(scope = document) {\n    const allLinks = Array.from(scope.querySelectorAll('a'));\n\n    allLinks.forEach((element) => {\n      if (element.href.includes(this.host)) {\n        element.target = '_self';\n      } else {\n        element.target = '_blank';\n      }\n    });\n  }\n\n  renderPosts(posts) {\n    let cachedPosts = '',\n        ul = document.createElement('ul');\n\n    if (posts.length > this.postLimit - 1) {\n      this.otherPosts = posts.slice(this.postLimit-1);\n      this.moreBtn.disabled = false;\n    } else {\n      this.otherPosts = undefined;\n    }\n\n    ul.classList.add('postList');\n\n    posts.forEach((post, index) => {\n      if (index < this.postLimit) {\n        cachedPosts += this.blogPostTemplate(post);\n      }\n\n    });\n\n    ul.innerHTML = cachedPosts;\n    this.setLinkTarget(ul);\n    this.wrapper.appendChild(ul);\n  }\n\n  morePosts() {\n    if(!this.otherPosts) return;\n    this.moreBtn.disabled = true;\n\n    this.renderPosts(this.otherPosts);\n  }\n\n  blogPostTemplate(post) {\n    let postDate = new Date(post.pubDate).toDateString();\n\n    return `<li class=\"blogiumPost\">\n        <a class=\"blogiumPost-link\" href=\"${post.link}\">\n          <span class=\"blogiumPost-date\">${postDate}</span>\n          <h3 class=\"blogiumPost-title\">${post.title}</h3>\n        </a>\n        <section class=\"blogiumPost-description\">\n          ${post.description}\n        </section>\n      </li>`;\n  };\n}\n\nmodule.exports = Blogium;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/blogium.js\n **/","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.TinyEmitter = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nfunction E () {\n\t// Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n\ton: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n},{}]},{},[1])(1)\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/tiny-emitter/dist/tinyemitter.js\n ** module id = 2\n ** module chunks = 0\n **/","const defaults = {\n  host: document.location.host || '',\n  username: '@Medium',\n  moreBtn: '#moreBtn',\n  wrapper: '.mediumWrap',\n  targetBlank: true,\n  defaultTemplate: true,\n  postLimit: 5\n};\n\nexport default defaults;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/defaultOptions.js\n **/"],"sourceRoot":""}